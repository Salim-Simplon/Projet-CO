{"ast":null,"code":"import Axios from \"axios\";\nimport { GET_ALL_PANIER, DELETE_PANIER } from \"./types\";\n/* afficher le panier */\n\nexport const getAllPanier = payload => ({\n  type: GET_ALL_PANIER,\n  payload\n});\nexport function getPanierFromApi() {\n  if (localStorage.getItem(\"token\") !== null) {\n    const payload = JwtDecode(localStorage.getItem(\"token\"));\n    return dispatch => Axios.get(\"http://localhost:8000/paniers/\" + payload.user._id).then(res => dispatch(getAllPanier(res.data)));\n  }\n}\n/* delete food */\n\nexport const deletePanier = payload => ({\n  type: DELETE_PANIER,\n  payload\n});\nexport function deletePanierFromApi(_id) {\n  return dispatch => Axios.delete(\"http://localhost:8000/paniers/\" + _id).then(res => dispatch(getPanierFromApi()));\n} //  get  panier by user \n// export const getPaniertUser = (payload) => ({\n//   type: GET_PANIER_BY_ID,\n//   payload: payload,\n// });\n// export function getPanierByUserFromApi() {\n//   let userId1 = localStorage.getItem(\"_id\");\n//   return (dispatch) =>\n//     Axios.get(\"http://localhost:8000/paniers/\" + userId1).then((res) =>\n//       dispatch(getPaniertUser(res.data))\n//     );\n// }\n// // ajouter au panier \n// export const addPanier = (payload) => ({\n//   type: ADD_PANIER,\n//   payload,\n// });\n// export function postPanier(el) {\n//   return (dispatch) =>\n//     Axios.post(`http://localhost:3000/panier`, {\n//       id: el.id,\n//       photo: el.photo,\n//       name: el.name,\n//       compo: el.compo,\n//       qtite: el.qtite,\n//       prix: el.prix,\n//     })\n//       .then((res) => dispatch(addPanier(el)))\n//       .catch((err) => console.log(err));\n// } \n// // edit food\n// export const updatePanier = (payload) => ({\n//   type: UPDATE_PANIER,\n//   payload,\n// });\n// export function updatePanierFromAPI(el) {\n//   return (dispatch) =>\n//     Axios.put(\"http://localhost:3000/panier/\" + el.id, el).then((res) =>\n//       dispatch(getPanierFromApi())\n//     );\n// }","map":{"version":3,"sources":["/home/salim/Bureau/Gorbej-app-test/src/Action/panierActions.js"],"names":["Axios","GET_ALL_PANIER","DELETE_PANIER","getAllPanier","payload","type","getPanierFromApi","localStorage","getItem","JwtDecode","dispatch","get","user","_id","then","res","data","deletePanier","deletePanierFromApi","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA6C,SAA7C;AAEA;;AAEA,OAAO,MAAMC,YAAY,GAAIC,OAAD,KAAc;AACxCC,EAAAA,IAAI,EAAEJ,cADkC;AAExCG,EAAAA;AAFwC,CAAd,CAArB;AAKP,OAAO,SAASE,gBAAT,GAA4B;AACjC,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAkC,IAAtC,EAA4C;AAC1C,UAAMJ,OAAO,GAAGK,SAAS,CAACF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAzB;AACF,WAAQE,QAAD,IACLV,KAAK,CAACW,GAAN,CAAU,mCAAmCP,OAAO,CAACQ,IAAR,CAAaC,GAA1D,EAA+DC,IAA/D,CAAqEC,GAAD,IAClEL,QAAQ,CAACP,YAAY,CAACY,GAAG,CAACC,IAAL,CAAb,CADV,CADF;AAID;AACA;AACD;;AAEA,OAAO,MAAMC,YAAY,GAAIb,OAAD,KAAc;AACxCC,EAAAA,IAAI,EAAEH,aADkC;AAExCE,EAAAA;AAFwC,CAAd,CAArB;AAKP,OAAO,SAASc,mBAAT,CAA6BL,GAA7B,EAAkC;AACvC,SAAQH,QAAD,IACLV,KAAK,CAACmB,MAAN,CAAa,mCAAmCN,GAAhD,EAAqDC,IAArD,CAA2DC,GAAD,IACxDL,QAAQ,CAACJ,gBAAgB,EAAjB,CADV,CADF;AAID,C,CAGD;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import Axios from \"axios\";\nimport { GET_ALL_PANIER, DELETE_PANIER} from \"./types\";\n\n/* afficher le panier */\n\nexport const getAllPanier = (payload) => ({\n  type: GET_ALL_PANIER,\n  payload,\n});\n\nexport function getPanierFromApi() {\n  if (localStorage.getItem(\"token\") !== null) {\n    const payload = JwtDecode(localStorage.getItem(\"token\"));\n  return (dispatch) =>\n    Axios.get(\"http://localhost:8000/paniers/\" + payload.user._id).then((res) =>\n      dispatch(getAllPanier(res.data))\n    );\n}\n}\n/* delete food */\n\nexport const deletePanier = (payload) => ({\n  type: DELETE_PANIER,\n  payload,\n});\n\nexport function deletePanierFromApi(_id) {\n  return (dispatch) =>\n    Axios.delete(\"http://localhost:8000/paniers/\" + _id).then((res) =>\n      dispatch(getPanierFromApi())\n    );\n}\n\n\n//  get  panier by user \n\n// export const getPaniertUser = (payload) => ({\n//   type: GET_PANIER_BY_ID,\n//   payload: payload,\n// });\n\n// export function getPanierByUserFromApi() {\n//   let userId1 = localStorage.getItem(\"_id\");\n//   return (dispatch) =>\n//     Axios.get(\"http://localhost:8000/paniers/\" + userId1).then((res) =>\n//       dispatch(getPaniertUser(res.data))\n//     );\n// }\n\n// // ajouter au panier \n\n// export const addPanier = (payload) => ({\n//   type: ADD_PANIER,\n//   payload,\n// });\n\n// export function postPanier(el) {\n//   return (dispatch) =>\n//     Axios.post(`http://localhost:3000/panier`, {\n//       id: el.id,\n//       photo: el.photo,\n//       name: el.name,\n//       compo: el.compo,\n//       qtite: el.qtite,\n//       prix: el.prix,\n//     })\n//       .then((res) => dispatch(addPanier(el)))\n//       .catch((err) => console.log(err));\n// } \n\n// // edit food\n\n// export const updatePanier = (payload) => ({\n//   type: UPDATE_PANIER,\n//   payload,\n// });\n\n// export function updatePanierFromAPI(el) {\n//   return (dispatch) =>\n//     Axios.put(\"http://localhost:3000/panier/\" + el.id, el).then((res) =>\n//       dispatch(getPanierFromApi())\n//     );\n// }\n"]},"metadata":{},"sourceType":"module"}